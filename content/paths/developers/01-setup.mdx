import ConceptExplainer from '@/components/learning/ConceptExplainer';
import SPAArchitecture from '@/components/interactive/SPAArchitecture';
import CodePlayground from '@/components/interactive/CodePlayground';

export const meta = {
  title: 'NetSuite Architecture Overview',
  description: "Understanding NetSuite's architecture and APIs",
  duration: '30 min',
};

# NetSuite Architecture Overview

## Introduction

As a developer, understanding NetSuite's architecture is crucial for building effective customizations.

<ConceptExplainer
  concept={{
    id: 'netsuite-architecture',
    title: 'NetSuite Architecture',
    category: 'architecture',
    simpleExplanation:
      'NetSuite is like a multi-layered cake. The bottom layer is the database (where data lives), the middle layer is the business logic (how things work), and the top layer is the user interface (what users see and interact with).',
    technicalDetails:
      'NetSuite uses a multi-tenant SaaS architecture:\n- Database layer: Oracle database with custom schema\n- Application layer: SuiteScript runtime environment\n- Presentation layer: Web-based UI with UIF framework\n- Integration layer: REST, SOAP, and SuiteQL APIs\n- Security layer: Role-based access control',
    visualType: 'diagram',
    commonMistakes: [
      'Not understanding the multi-tenant architecture',
      'Confusing client-side vs server-side execution',
      'Not considering governance limits',
    ],
    realWorldExample:
      'Like a shared office building: multiple companies (tenants) use the same building infrastructure, but each has their own private space and can customize it to their needs.',
  }}
/>

## SPA Architecture

Understanding how Single Page Applications work in NetSuite:

<SPAArchitecture />

## Try It Out

Experiment with NetSuite APIs in the code playground:

<CodePlayground
  initialCode={`// Example: Loading a record
import record from 'N/record';

const customer = record.load({
  type: record.Type.CUSTOMER,
  id: 123
});

const name = customer.getValue({
  fieldId: 'companyname'
});

log.debug('Customer Name', name);`}
  language="typescript"
  templates={[
    {
      name: 'Load Record',
      code: `import record from 'N/record';

const rec = record.load({
  type: record.Type.CUSTOMER,
  id: 123
});`,
    },
    {
      name: 'Search Records',
      code: `import search from 'N/search';

const results = search.create({
  type: search.Type.CUSTOMER,
  filters: [
    ['companyname', 'contains', 'Acme']
  ],
  columns: ['companyname', 'email']
}).run();`,
    },
  ]}
/>

## Key APIs

### N/record
- Load, create, update, delete records
- Transform records between types
- Handle sublists

### N/search
- Create saved searches programmatically
- Search for records
- Get search results

### N/ui
- Build forms (Suitelets)
- Create server widgets
- Handle user interactions

## Next Steps

Continue to learn SuiteScript basics and how to use these APIs effectively.

